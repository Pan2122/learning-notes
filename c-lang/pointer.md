---
title: C语言指针核心复盘
---
---
### 第一部分：C语言指针与结构体重点复盘（笔记版）

你可以按这个结构记录，重点标记了易混淆点：

#### 1. 指针符号 `*` 的“两副面孔”

不要看到 `*` 就觉得是取值，看它出现在哪里：

* **定义时（身份标记）：** `int *p = &a;`
* **含义：** 这里的 `*` 只是类型说明，告诉编译器 `p` 是个指针变量。
* **动作：** `p` 里面存入了 `a` 的地址（造路牌）。


* **使用时（动作指令）：** `*p = 10;`
* **含义：** 这里的 `*` 是解引用（Dereference）。
* **动作：** 顺着 `p` 里的地址找到那个变量，修改它的值（顺着路牌去改数据）。



#### 2. 初始化的最佳实践

* **推荐写法（定义即初始化）：**
```c
int a = 0;
int *p = &a; // 安全！p 生下来就有家，不会成为野指针。

```


* **不推荐写法（先定义后赋值）：**
```c
int *p;      // 危险！此时 p 指向随机地址（野指针）。
p = &a;      // 必须记得补上这一步。

```



#### 3. 结构体指针与箭头 `->`

* **核心公式（背诵）：**


* **适用场景：** 当你手里的变量是一个**指针**（地址），且指向一个结构体时，必须用 `->`。
* **对比记忆：**
* `结构体实体.成员` （在 main 函数自己造变量时用）
* `结构体指针->成员` （在函数传参拿到地址时用）



#### 4. 函数传参流程（嵌入式经典写法）

* **定义函数时（我是插座）：**
`void func(GPIO_Config *config)` -> 这里的 `*` 表示我只收地址。
* **调用函数时（你是插头）：**
`func(&my_gpio);` -> 这里的 `&` 表示把我的地址发给你。
* **函数内部（开始工作）：**
`config->mode = 1;` -> 使用箭头修改该地址下的内容。

---
